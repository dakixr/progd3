---
import { Button } from "@/components/ui/button";
import {
  Card,
  CardContent,
  CardFooter,
  CardHeader,
  CardTitle,
} from "@/components/ui/card";
import { getLangFromUrl, useTranslations, localizedPath } from "@/i18n/utils";
import Layout from "@/layouts/Layout.astro";
import { Sparkles } from "lucide-react";

import "animate.css";
import "aos/dist/aos.css";

import CostCompilerIcon from "@/assets/costcompiler.svg";
import IonisiumIcon from "@/assets/ionisium.svg";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<Layout title="programita d3">
  <div class="flex flex-col space-y-0">
    <!-- Hero Section -->
    <section class="relative overflow-hidden px-4 py-12 bg-grid mb-[-6.125rem]">
      <div class="container mx-auto relative">
        <div class="group text-center space-y-8 py-20 animate__animated animate__fadeInUp"
        >
          <div
            class="inline-flex items-center gap-2 rounded-full bg-black dark:bg-zinc-800 px-4 py-2 text-sm text-black font-semibold transition-all duration-500"
          >
            <Sparkles className="mr-2 h-5 w-5 text-white" client:load />
            <span class="text-white">
              {t("hero.sparkles")}
            </span>
          </div>
          <h1 class="text-5xl md:text-7xl font-extrabold">
            <span class="font-pixelify text-black dark:text-white"
              >programita d3</span
            >
          </h1>
          <p
            class="mt-4 text-lg md:text-xl max-w-4xl mx-auto text-primary dark:text-primary-light"
          >
            {t("hero.description")}
          </p>
          <div class="mt-8 flex justify-center gap-4">
            <a href="mailto:contact@programitad3.es">
              <Button
                size="lg"
                className="font-pixelify shadow-xl cursor-pointer"
              >
                {t("hero.cta_primary")}
              </Button>
            </a>
            <a href={localizedPath("jobs", lang)}>
              <Button size="lg" variant="outline" className="font-pixelify">
                {t("footer.job_opportunities")}
              </Button>
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- Productos Section -->
    <section
      id="productos"
      class="py-24 bg-muted/50 dark:bg-muted/70 animate__animated animate__fadeIn"
      data-aos="fade-up"
    >
      <div class="container mx-auto">
        <div class="text-center mb-16">
          <h2
            class="text-3xl md:text-4xl font-bold mb-4 text-foreground dark:text-foreground-light animate__animated animate__fadeInUp"
          >
            {t("productos.title")}
          </h2>
          <p
            class="text-muted-foreground dark:text-muted-foreground-light max-w-2xl mx-auto animate__animated animate__fadeInUp"
          >
            {t("productos.description")}
          </p>
        </div>

        <div class="grid md:grid-cols-2 gap-8">
          <!-- Ionisium Card -->
          <Card
            className="card-surface group relative overflow-hidden flex flex-col h-full animate__animated animate__fadeInUp transition-all duration-300 ease-[cubic-bezier(0.22,1,0.36,1)] motion-reduce:transition-none focus-visible:outline-none !rounded-xl"
            data-aos="fade-up"
            client:load
          >
            <a
              href="https://ionisium.es/"
              target="_blank"
              rel="noopener noreferrer"
              aria-label="Open Ionisium in new tab"
              class="relative block"
            >
              <CardHeader className="relative z-10" client:load>
                <div>
                  <div
                    class="relative aspect-video rounded-md mb-4 transition-transform duration-300 ease-out will-change-transform group-hover:scale-[1.01] flex items-center justify-center"
                  >
                    <IonisiumIcon class="w-4/5 h-4/5" />
                  </div>
                </div>
                <CardTitle
                  className="font-pixelify text-2xl text-foreground dark:text-foreground-light"
                >
                  Ionisium
                </CardTitle>
              </CardHeader>
              <CardContent className="relative z-10" client:load>
                <p
                  class="text-muted-foreground dark:text-muted-foreground-light"
                >
                  {t("productos.ionisium.description")}
                </p>
              </CardContent>
              <CardFooter className="relative z-10 mt-auto" client:load>
                <Button asChild>
                  <span>{t("productos.moreinfo")}</span>
                </Button>
              </CardFooter>
            </a>
          </Card>

          <!-- CostCompiler Card -->
          <Card
            className="card-surface group relative overflow-hidden flex flex-col h-full animate__animated animate__fadeInUp transition-all duration-300 ease-[cubic-bezier(0.22,1,0.36,1)] motion-reduce:transition-none focus-visible:outline-none !rounded-xl"
            data-aos="fade-up"
            client:load
          >
            <a
              href="https://www.costcompiler.com/"
              target="_blank"
              rel="noopener noreferrer"
              aria-label="Open CostCompiler in new tab"
              class="relative block"
            >
              <CardHeader className="relative z-10" client:load>
                <div>
                  <div
                    class="relative aspect-video rounded-md mb-4 transition-transform duration-300 ease-out will-change-transform group-hover:scale-[1.01] flex items-center justify-center"
                  >
                    <CostCompilerIcon class="w-4/5 h-4/5" />
                  </div>
                </div>
                <CardTitle
                  className="font-pixelify text-2xl text-foreground dark:text-foreground-light"
                >
                  CostCompiler
                </CardTitle>
              </CardHeader>
              <CardContent className="relative z-10" client:load>
                <p
                  class="text-muted-foreground dark:text-muted-foreground-light"
                >
                  {t("productos.costcompiler.description")}
                </p>
              </CardContent>
              <CardFooter className="relative z-10 mt-auto" client:load>
                <Button asChild>
                  <span>{t("productos.moreinfo")}</span>
                </Button>
              </CardFooter>
            </a>
          </Card>
        </div>
        <div class="text-center mt-16">
          <p
            class="text-lg text-muted-foreground dark:text-muted-foreground-light animate__animated animate__fadeInUp"
          >
            {t("productos.more")}
          </p>
        </div>
      </div>
    </section>

    <!-- Sobre Nosotros Section -->
    <section
      id="nosotros"
      class="py-24 px-4 md:px-0 animate__animated animate__fadeIn"
      data-aos="fade-up"
    >
      <div class="container mx-auto">
        <div class="grid md:grid-cols-2 gap-12 items-center">
          <div
            class="rounded-lg aspect-square md:aspect-auto md:h-96 flex items-center justify-center animate__animated animate__fadeInUp"
          >
            <img
              src="/car-thing.webp"
              alt="Nuestro equipo"
              class="rounded-lg h-full object-cover"
            />
          </div>
          <div>
            <h2
              class="text-3xl md:text-4xl font-bold mb-6 text-foreground dark:text-foreground-light animate__animated animate__fadeInUp"
            >
              {t("nosotros.title")}
            </h2>
            <div
              class="space-y-4 text-muted-foreground dark:text-muted-foreground-light animate__animated animate__fadeInUp"
            >
              <p>{t("nosotros.description1")}</p>
              <p>{t("nosotros.description2")}</p>
              <p>{t("nosotros.description3")}</p>
            </div>
            <div class="mt-8">
              <Button asChild>
                <a href="#contacto">{t("contacto.title")}</a>
              </Button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <section
      id="contacto"
      class="pt-24 pb-48 px-4 md:px-0 bg-background text-foreground dark:bg-background dark:text-foreground animate__animated animate__fadeIn"
      data-aos="fade-up"
    >
      <div class="container mx-auto text-center">
        <h2
          class="text-3xl md:text-4xl font-bold mb-6 animate__animated animate__fadeInUp"
        >
          {t("contacto.title")}
        </h2>
        <p
          class="text-xl max-w-2xl mx-auto mb-8 text-muted-foreground dark:text-muted-foreground animate__animated animate__fadeInUp"
        >
          {t("contacto.description")}
        </p>
        <Button size="lg" variant="secondary" asChild client:load>
          <a href="#">{t("contacto.title")}</a>
        </Button>
      </div>
    </section>
  </div>
</Layout>

